<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Crash course on Ruby on Rails</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>

  <link rel="stylesheet" href=".//css/reset.css" type="text/css"/>

  

  <link type="text/css" href=".//css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/sh_style.css" rel="stylesheet" />
  <link type="text/css" href=".//css/tipsy.css" rel="stylesheet" />

  <link rel="stylesheet" href=".//css/showoff.css" type="text/css"/>

  <script type="text/javascript" src=".//js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src=".//js/jquery-print.js"></script>
  <script type="text/javascript" src=".//js/jquery.batchImageLoad.js"></script>
  <script type="text/javascript" src=".//js/jquery.parsequery.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.doubletap-0.1.js"></script>
  <script type="text/javascript" src=".//js/jquery.tipsy.js"></script>

  <script type="text/javascript" src=".//js/fg.menu.js"></script>
  <script type="text/javascript" src=".//js/showoff.js"></script>
  <script type="text/javascript" src=".//js/jTypeWriter.js"> </script>
  <script type="text/javascript" src=".//js/sh_main.min.js"></script>
  <script type="text/javascript" src=".//js/core.js"></script>
  <script type="text/javascript" src=".//js/showoffcore.js"></script>
  <script type="text/javascript" src=".//js/coffee-script.js"></script>

  
    
      <script type="text/javascript" src=".//js/sh_lang/sh_ruby.min.js"></script>
    
  

  
    
    <link rel="stylesheet" href=".//file/something.css" type="text/css"/>
  

  

  <script type="text/javascript">
    $(function(){
      setupPreso(false, './');
    });

    editUrl  = "";
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>
<a tabindex="1" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="stylemenu"><span class="ui-icon ui-icon-triangle-1-s"></span>styles</a>
<div id="stylepicker" class="hidden"></div>


<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">b</td><td>blank screen</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">g</td><td>toggle follow</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
    <tr><td class="key">s</td><td>choose style</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso"><center>loading presentation...</center></div>
<div id="footer">
  <span id="followMode"></span>
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
  <span id="slideFilename"></span>
  <img id="disconnected" src=".//css/disconnected.png" />
</div>

<div id="slides" class="offscreen" style="display:none;">
<div id="1ruby_slidesA" class="slide title-slide center" data-transition="none">
<div class="content title-slide center" ref="1ruby/slidesA/1">
<div class="notes">
<p>first slide</p>
</div>

<p><img src="./file/1ruby/aveiro_logo.png" alt="aveiro"></p>

<h1>Crash course <br> Ruby on Rails</h1>

<p><img src="./file/1ruby/Ruby_on_Rails.png" alt="RoR"></p>
</div>
</div>
<div id="1ruby_slidesA" class="slide subsection" data-transition="none">
<div class="content subsection" ref="1ruby/slidesA/2">
<h1>The RUBY language</h1>
</div>
</div>
<div id="1ruby_slidesA" class="slide " data-transition="fade">
<div class="content " ref="1ruby/slidesA/3">
<h1>Ruby is...</h1>

<blockquote>
<p>A dynamic, open source programming language with a focus on simplicity and productivity. It has an elegant syntax that is natural to read and easy to write.</p>
</blockquote>

<p><img src="./file/1ruby/ruby.gif" alt="ruby"></p>

<p><small><a href="http://www.ruby-lang.org/">www.ruby-lang.org/</a></small></p>
</div>
</div>
<div id="1ruby_slidesA" class="slide small" data-transition="fade">
<div class="content small" ref="1ruby/slidesA/4">
<h1>Powerful programming language</h1>

<h2>supports multithreading</h2>

<pre class="sh_ruby"><code>4.times do |i|
    threads &lt;&lt; Thread.new do
      mutex.synchronize {
        resource.wait(mutex)
        # complicated task
      }
    end
end</code></pre>

<h2>supports multiple cores (processes)</h2>

<pre class="sh_ruby"><code>4.times do |i|
    fork do
      # complicated task
    end
end</code></pre>
</div>
</div>
<div id="1ruby_slidesA" class="slide small" data-transition="fade">
<div class="content small" ref="1ruby/slidesA/5">
<h1>Ruby is very expressive</h1>

<pre class="sh_ruby"><code># Method example
def read(path)
  return nil unless File.exist?(path)
  File.read(path)
end

# RSpec example
Post.last.should have(10).comments</code></pre>
</div>
</div>
<div id="1ruby_slidesA" class="slide small" data-transition="fade">
<div class="content small" ref="1ruby/slidesA/6">
<h1>Ruby is elegant</h1>

<pre class="sh_ruby"><code># Sinatra example
get '/' do
  'Hello world!'
end

# Block example
ChessGame.new do |move|
  move.black_pawn(forward)
  move.white_pawn(forward)
  # ...
  move.white_queen(pwn_king)
end</code></pre>
</div>
</div>
<div id="1ruby_slidesA" class="slide commandline incremental" data-transition="fade">
<div class="content commandline incremental" ref="1ruby/slidesA/7">
<h1>Everything is an object!</h1>

<pre><code><code class="command">$ irb&gt; "foo".class</code>
<code class="result">String
</code><code class="command">$ irb&gt; 1.class</code>
<code class="result">Fixnum
</code><code class="command">$ irb&gt; abs(-1)</code>
<code class="result">NoMethodError: undefined method `abs' for main:Object
</code><code class="command">$ irb&gt; -1.abs()</code>
<code class="result">1
</code><code class="command">$ irb&gt; "hello aveiro".pluralize.camelize</code>
<code class="result">"Hello aveiros"
</code><code class="command">$ irb&gt; %w(world galaxy).each{|s| puts "hello #{s}".upcase}</code>
<code class="result">"HELLO WORLD"
"HELLO GALAXY"
</code></code></pre>
</div>
</div>
<div id="1ruby_slidesA" class="slide small" data-transition="fade">
<div class="content small" ref="1ruby/slidesA/8">
<h1>Ruby classes</h1>

<pre class="sh_ruby"><code>class Greeter
  def initialize(name = "World")
    @name = name
  end
  def say_hi
    puts "Hi #{@name}!"
  end
  def say_bye
    puts "Bye #{@name}, come back soon."
  end
end</code></pre>
</div>
</div>
<div id="1ruby_slidesA" class="slide small" data-transition="fade">
<div class="content small" ref="1ruby/slidesA/9">
<h1>Ruby arrays, hashes, ranges</h1>

<pre class="sh_ruby"><code>array = ["one", "two", "nine"]
hash = {one: 1, two: 2, nine: 9}
range = 1..4
range.to_a
# =&gt; [2, 3, 4]
range.include?(3)
# =&gt; true</code></pre>
</div>
</div>
<div id="2gems_01slide" class="slide subsection small" data-transition="fade">
<div class="content subsection small" ref="2gems/01slide/1">
<h1>The ruby GEMs</h1>
</div>
</div>
<div id="2gems_01slide" class="slide center small" data-transition="fade">
<div class="content center small" ref="2gems/01slide/2">
<p><img src="./file/2gems/gems_logo.jpeg" alt="rubygems_logo"></p>

<h1>Rubygems is...</h1>

<blockquote>
<p>a package manager for the Ruby programming language that provides a standard format for distributing Ruby programs and libraries (in a self-contained format called a "gem"), a tool designed to easily manage the installation of gems, and a server for distributing them.</p>
</blockquote>

<p><img src="./file/2gems/rubygems_icon.png" alt="rubygems_logo2"></p>

<p><a href="http://www.rubygems.org" target="_blank"></a><a href="http://www.RubyGems.org">www.RubyGems.org</a></p>
</div>
</div>
<div id="2gems_01slide" class="slide commandline incremental" data-transition="fade">
<div class="content commandline incremental" ref="2gems/01slide/3">
<p>installing a GEM</p>

<pre><code><code class="command">$ gem install mysql2</code>
<code class="result">Building native extensions.  This could take a while...
Successfully installed mysql2-1.3.10
1 gem installed
</code></code></pre>

<p>list installed GEMs</p>

<pre><code><code class="command">$ gem list</code>
<code class="result">*** LOCAL GEMS ***

addressable (2.3.6) (2.3.7)
bigdecimal (1.2.6)
blankslate (3.1.3)
</code></code></pre>

<p>remove old versions</p>

<pre><code><code class="command">$ gem cleanup addressable</code>
<code class="command"># remove all old versions of the gem</code>
<code class="result">
</code><code class="command">$ gem uninstall addressable --version 2.3.6</code>
<code class="command"># remove version 2.3.6 only</code>
<code class="result">
</code><code class="command">$ gem uninstall addressable --version '&lt;2.3.7'</code>
<code class="command"># remove all versions less than 2.3.7</code>
</code></pre>
</div>
</div>
<div id="2gems_01slide" class="slide " data-transition="fade">
<div class="content " ref="2gems/01slide/4">
<p><img src="./file/2gems/gembundler.png" alt="bundler"></p>
</div>
</div>
<div id="2gems_01slide" class="slide small" data-transition="fade">
<div class="content small" ref="2gems/01slide/5">
<pre><code>$ gem install bundler
</code></pre>

<p>Create a file named <em>Gemfile</em></p>

<pre class="sh_ruby"><code>source 'https://rubygems.org'
gem 'nokogiri'
gem 'rack', '~&gt;1.1'
gem 'rspec', :require =&gt; 'spec'</code></pre>

<p class="..">this downloads GEMs + creates <em>Gemfile.lock</em></p>

<pre class="sh_ruby"><code>GEM
  remote: https://rubygems.org/
  specs:
    actionmailer (4.2.0)
    ...</code></pre>
</div>
</div>
<div id="2gems_01slide" class="slide center" data-transition="fade">
<div class="content center" ref="2gems/01slide/6">
<h1>Most popular GEMs</h1>

<p><img src="./file/2gems/gem_statistics.png" alt="stats"></p>
</div>
</div>
<div id="3rails_01slide" class="slide subsection small" data-transition="fade">
<div class="content subsection small" ref="3rails/01slide/1">
<h1>Rails Savoir Vivre</h1>
</div>
</div>
<div id="3rails_01slide" style="background-image: url('file/3rails/dhh.png');" class="slide background-fit" data-transition="fade">
<div class="content background-fit" ref="3rails/01slide/2">
</div>
</div>
<div id="3rails_01slide" class="slide center" data-transition="fade">
<div class="content center" ref="3rails/01slide/3">
<p><img src="./file/3rails/ror_web.png" alt="ror"></p>
</div>
</div>
<div id="3rails_01slide" class="slide mvc background-fit" data-transition="fade">
<div class="content mvc background-fit" ref="3rails/01slide/4">
<p>mvc</p>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/5">
<h1>Components of Rails</h1>

<p>Action Pack
Active Support
Active Record
Action Mailer
Active Resource
Active Job</p>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/6">
<h1>Action Pack</h1>

<p>View and Controller logic</p>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/7">
<h1>Active Support</h1>

<p>Collection of utility classes and library extensions</p>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/8">
<h1>Active Record</h1>

<p>Object relationship mapper for various databases: MySQL (mariaDB), postgreSQL, Redis etc.</p>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/9">
<h1>Action Mailer</h1>

<p>email delivery</p>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/10">
<h1>Ative Resource</h1>

<p>Object relational mapper for RESTful WEB.</p>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/11">
<h1>Active Job</h1>

<p>Wrapper for background jobs processing.</p>
</div>
</div>
<div id="3rails_01slide" class="slide center" data-transition="fade">
<div class="content center" ref="3rails/01slide/12">
<p><img src="./file/3rails/crud3.png" alt="crud"></p>
</div>
</div>
<div id="3rails_01slide" class="slide center" data-transition="fade">
<div class="content center" ref="3rails/01slide/13">
<h1>Convention over configuration</h1>

<p>RoR folder structure</p>

<div class="notes">
<p>Show folder structure in project</p>
</div>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/14">
<h1>Naming conventions</h1>

<h2>Model</h2>

<pre><code>Table: orders
Class: Order
File: /app/models/order.rb
Primary Key: id
Foreign Key: customer_id
Link Tables: items_orders
</code></pre>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/15">
<h1>Naming conventions</h1>

<h2>Controller</h2>

<pre><code>Class: OrdersController
File: /app/controllers/orders_controller.rb
Layout: /app/layouts/orders.html.erb
</code></pre>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/16">
<h1>Naming conventions</h1>

<h2>View</h2>

<pre><code>Helper: /app/helpers/orders_helper.rb
Helper Module: OrdersHelper
Views: /app/views/orders/… (list.html.erb for example)
</code></pre>
</div>
</div>
<div id="3rails_01slide" class="slide " data-transition="fade">
<div class="content " ref="3rails/01slide/17">
<h1>Behaviour Driven Development</h1>

<h2>spec -&gt; tests -&gt; code</h2>

<pre><code>Scenario:
As Aveiro accounting manager
When CEO approves invoice
I should receive an email with document
</code></pre>
</div>
</div>
<div id="3rails_01slide" class="slide smaller" data-transition="fade">
<div class="content smaller" ref="3rails/01slide/18">
<h1>Active Record Queries</h1>

<pre><code># classic
User.all.each{|u| puts "#{u.name}: #{u.roles.map(&amp;:role).join(",")}"}
&gt; User Load (0.2ms)  SELECT "users".* FROM "users"
&gt; Role Load (0.1ms)  SELECT "roles".*
    FROM "roles" WHERE "roles"."user_id" = ?  [["user_id", 1]]
&gt; Role Load (0.0ms)  SELECT "roles".*
    FROM "roles" WHERE "roles"."user_id" = ?  [["user_id", 2]]

# smart include
User.include(:roles).all.each{|u| puts "#{u.name}: #{u.roles.map(&amp;:role).join(",")}"}
&gt; User Load (2.1ms)  SELECT "users".* FROM "users"
&gt; Role Load (0.1ms)  SELECT "roles".* FROM "roles" WHERE "roles"."user_id" IN (1, 2)

# eager load
User.eager_load(:roles).all.each{|u| puts "#{u.name}: #{u.roles.map(&amp;:role).join(",")}"}
&gt; SQL (0.5ms)  SELECT "users"."id" AS t0_r0, "users"."first_name" AS t0_r1,
    "users"."last_name" AS t0_r2, "users"."email" AS t0_r3, "users"."provider" AS t0_r4,
    "users"."uid" AS t0_r5, "users"."token" AS t0_r6, "users"."image_name" AS t0_r7,
    "users"."image_uid" AS t0_r8, "users"."created_at" AS t0_r9, "users"."updated_at" AS t0_r10,
    "roles"."id" AS t1_r0, "roles"."user_id" AS t1_r1, "roles"."role" AS t1_r2, "roles"."created_at" AS t1_r3,
    "roles"."updated_at" AS t1_r4 FROM "users" LEFT OUTER JOIN "roles" ON "roles"."user_id" = "users"."id"
</code></pre>
</div>
</div>
<div id="4languages_slidesA" class="slide subsection small" data-transition="fade">
<div class="content subsection small" ref="4languages/slidesA/1">
<h1>Reductionism <br> focus on programming, not typing</h1>
</div>
</div>
<div id="4languages_slidesA" class="slide " data-transition="fade">
<div class="content " ref="4languages/slidesA/2">
<h2>coffeescript</h2>

<p><a href="http://coffeescript.org/">http://coffeescript.org/</a></p>

<h2>slim</h2>

<p><a href="http://slim-lang.com/">http://slim-lang.com/</a></p>

<h2>SCSS</h2>

<p><a href="http://sass-lang.com/">http://sass-lang.com/</a></p>
</div>
</div>
<div id="5demoapp_01slide" class="slide subsection small" data-transition="fade">
<div class="content subsection small" ref="5demoapp/01slide/1">
<h1>Roll up your sleeves <br> APP: Employee's Invoices @Aveiro</h1>
</div>
</div>
<div id="5demoapp_01slide" class="slide commandline incremental small" data-transition="fade">
<div class="content commandline incremental small" ref="5demoapp/01slide/2">
<h1>Get the project to your local dev</h1>

<pre><code><code class="command">$ git clone https://github.com/AveiroAS/employees-invoices-greg.git</code>
<code class="command">$ cd employees-invoices-greg</code>
<code class="command">$ bundle install</code>
<code class="command">$ rails s</code>
<code class="command"># visit http://lvh.me:3000</code>
</code></pre>
</div>
</div>
</div>
<div id="pauseScreen">
  Paused !!!
</div>

</body>
</html>
